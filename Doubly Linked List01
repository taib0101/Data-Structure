            IN THE NAME OF ALLAH , THE ENTIRELY MERCIFULL , THE SPECIALLY MERCIFULL
#include<bits/stdc++.h>
using namespace std;

struct node
{
    int n;
    struct node *right;
    struct node *left;
}*head = NULL, *leg = NULL;

void make(int x)
{
    struct node *temp = NULL;
    struct node *root = (struct node *) malloc(sizeof(struct node));
    root -> n = x;
    root -> right = NULL;

    if(head == NULL)
    {
        head = root;
        root -> left = NULL;
    }
    else
    {
        struct node *tp = head;
        temp = head;
        while(tp -> right != NULL)
        {
            tp -> right -> left = tp;
            tp = tp -> right;
        }
        tp -> right = root;
        tp -> right -> left = tp;
        leg = root;
    }
}
bool bb;
void show(struct node *pt)
{
    cout << pt -> n << endl;
    if(pt -> right == NULL)
    {
        bb = 1;
        return;
    }
    if(!bb)
        show(pt -> right);
    if(pt -> left != NULL)
        show(pt -> left);
}
int main()
{
//    show(head);
    while(1)
    {

        int x;
        while(cin >> x && x)
            make(x);
        struct node *temp = head;
//        cout << "head -- >> " << endl;
//        cout << temp -> n << " ";
//        while(temp -> right != NULL)
//        {
//            temp = temp -> right;
//            cout << temp -> n << " ";
//        }
        bb = 0;
        show(head);
//        cout << endl;
//        cout << "leg -- >> " << endl;
//        temp = leg;
//        cout << temp -> n << " ";
//        while(temp -> left != NULL)
//        {
//            temp = temp -> left;
//            cout << temp -> n << " ";
//        }
//        cout << endl;
    }


    return 0;
}
